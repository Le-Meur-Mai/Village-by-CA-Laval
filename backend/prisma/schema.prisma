generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(uuid()) @db.Char(36)
  isAdmin   Boolean
  name      String   @db.VarChar(50)
  email     String   @unique @db.VarChar(100)
  password  String   @db.VarChar(255)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  quotes    Quote[]
  startUp   StartUp?
}

model Quote {
  id          String   @id @default(uuid()) @db.Char(36)
  firstName   String   @db.VarChar(20)
  lastName    String   @db.VarChar(20)
  description String   @db.VarChar(200)
  userId      String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  user        User     @relation(fields: [userId], references: [id])

  @@index([userId], map: "Quote_userId_fkey")
}

model StartUp {
  id                   String   @id @default(uuid()) @db.Char(36)
  name                 String   @db.VarChar(100)
  description          String?  @db.VarChar(300)
  isAlumni             Boolean
  website              String?  @db.VarChar(200)
  userId               String   @unique
  descriptionPictureId String
  logoId               String
  createdAt            DateTime @default(now())
  updatedAt            DateTime @updatedAt
  descriptionPicture   Picture  @relation("DescriptionPicture", fields: [descriptionPictureId], references: [id])
  logo                 Picture  @relation("LogoPicture", fields: [logoId], references: [id])
  user                 User     @relation(fields: [userId], references: [id])
  types                Type[]   @relation("StartUpToType")

  @@index([descriptionPictureId], map: "StartUp_descriptionPictureId_fkey")
  @@index([logoId], map: "StartUp_logoId_fkey")
}

model Type {
  id        String    @id @default(uuid()) @db.Char(36)
  name      String    @db.VarChar(30)
  color     String    @db.Char(6)
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  startUps  StartUp[] @relation("StartUpToType")
}

model Picture {
  id                 String     @id @default(uuid()) @db.Char(36)
  name               String     @db.VarChar(100)
  path               String     @db.VarChar(200)
  createdAt          DateTime   @default(now())
  updatedAt          DateTime   @updatedAt
  logoPartner        Partner[]
  post               Post?
  descriptionPicture StartUp[]  @relation("DescriptionPicture")
  logoStartUp        StartUp[]  @relation("LogoPicture")
  locationId  String?
  location    Location?  @relation(fields: [locationId], references: [id])
}

model Location {
  id          String    @id @default(uuid()) @db.Char(36)
  title       String    @db.VarChar(100)
  description String    @db.VarChar(800)
  price       Float
  size        Int
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  pictures    Picture[]
}

model Partner {
  id           String   @id @default(uuid()) @db.Char(36)
  name         String   @db.VarChar(100)
  description  String   @db.VarChar(200)
  website      String   @db.VarChar(200)
  financialAid Float
  logoId       String
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  logo         Picture  @relation(fields: [logoId], references: [id])

  @@index([logoId], map: "Partner_logoId_fkey")
}

model Post {
  id          String   @id @default(uuid()) @db.Char(36)
  title       String   @db.VarChar(100)
  description String   @db.VarChar(5000)
  pictureId   String?   @unique
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  picture     Picture?  @relation(fields: [pictureId], references: [id])
}

model Event {
  id          String   @id @default(uuid()) @db.Char(36)
  title       String   @db.VarChar(80)
  description String?  @db.VarChar(200)
  color       String   @db.Char(6)
  date        DateTime
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}
